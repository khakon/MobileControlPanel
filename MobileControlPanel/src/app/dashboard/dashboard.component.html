<section class="content-header">
  <h1>
    Мониторинг
    <small>Панель управления</small>
  </h1>
</section>
<section class="content">
  <div class="row">
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-aqua">
        <div class="inner">
          <h3>{{ordersSum | number:'3.2-2'}}</h3>

          <p>Сумма заказов</p>
        </div>
        <div class="icon">
          <i class="ion ion-bag"></i>
        </div>
        <a href="#"  [routerLink]="['orders']" class="small-box-footer">Подробнее <i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-teal">
        <div class="inner">
          <h3>{{ordersCount}}</h3>

          <p>Кол заказов</p>
        </div>
        <div class="icon">
          <i class="ion ion-stats-bars"></i>
        </div>
        <a href="#" [routerLink]="['orders']" class="small-box-footer">Подробнее <i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-green">
        <div class="inner">
          <h3>{{ordersStringCount}}</h3>

          <p>Строк заказов</p>
        </div>
        <div class="icon">
          <i class="ion ion-stats-bars"></i>
        </div>
        <a href="#"  [routerLink]="['orders']" class="small-box-footer">Подробнее <i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-aqua">
        <div class="inner">
          <h3>{{paysSum | number:'3.2-2'}}</h3>

          <p>Сумма оплат</p>
        </div>
        <div class="icon">
          <i class="ion ion-person-add"></i>
        </div>
        <a href="#" [routerLink]="['payments']" class="small-box-footer">Подробнее <i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-teal">
        <div class="inner">
          <h3>{{paysCount}}</h3>

          <p>Кол оплат</p>
        </div>
        <div class="icon">
          <i class="ion ion-pie-graph"></i>
        </div>
        <a href="#" [routerLink]="['payments']" class="small-box-footer">Подробнее<i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
    <div class="col-lg-2 col-xs-6">
      <!-- small box -->
      <div class="small-box bg-green">
        <div class="inner">
          <h3>{{paysStringCount}}</h3>

          <p>Строк оплат</p>
        </div>
        <div class="icon">
          <i class="ion ion-pie-graph"></i>
        </div>
        <a href="#" [routerLink]="['payments']" class="small-box-footer">Подробнее<i class="fa fa-arrow-circle-right"></i></a>
      </div>
    </div>
    <!-- ./col -->
  </div>
  <div class="row">
    <section class="col-lg-8 connectedSortable ui-sortable">
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Заказы</h3>

          <div class="box-tools pull-right">
            <!--<button type="button" class="btn btn-box-tool" data-widget="collapse">
              <i class="fa fa-minus"></i>
            </button>
            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>-->
          </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <div class="table-responsive">
            <dx-data-grid id="gridContainer"
                          [dataSource]="orders"
                          (onRowPrepared)="onRowPrepared($event)"
                          (onToolbarPreparing)="onToolbarPreparing($event)">
              <dxo-filter-row [visible]="true"
                              [applyFilter]="true"></dxo-filter-row>
              <dxo-header-filter [visible]="true"></dxo-header-filter>
              <dxo-search-panel [visible]="true"
                                [width]="240"
                                placeholder="Поиск..."></dxo-search-panel>
              <dxi-column caption="Дата" dataField="date" dataType="date" width="100" format='shortDate'></dxi-column>
              <dxi-column caption="Агент" dataField="agent" width="150"></dxi-column>
              <dxi-column caption="Покупатель" dataField="customer"></dxi-column>
              <dxi-column caption="Номер" dataField="number" width="70"></dxi-column>
              <dxi-column caption="Товар" dataField="product"></dxi-column>
              <dxi-column caption="Кол" dataField="quantity" width="70"></dxi-column>
              <dxi-column caption="Цена" dataField="price" width="70"></dxi-column>
              <dxi-column caption="Сумма" dataType="number" format="#.##" dataField="sum" width="90"></dxi-column>
              <dxo-summary>
              <dxi-total-item column="sum" summaryType="sum" [customizeText]="customizeSum"></dxi-total-item>
              </dxo-summary>
            </dx-data-grid>
          </div>
          <!-- /.table-responsive -->
        </div>
        <!-- /.box-body -->
        <div class="box-footer clearfix">
          <!--<a href="javascript:void(0)" class="btn btn-sm btn-info btn-flat pull-left">Place New Order</a>
          <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a>-->
        </div>
        <!-- /.box-footer -->
      </div>
    </section>
    <section class="col-lg-4 connectedSortable ui-sortable">
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Оплаты</h3>

          <div class="box-tools pull-right">
            <!--<button type="button" class="btn btn-box-tool" data-widget="collapse">
              <i class="fa fa-minus"></i>
            </button>
            <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>-->
          </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
          <div class="table-responsive">
            <dx-data-grid id="gridContainer"
                          [dataSource]="payments"
                          (onRowPrepared)="onRowPrepared($event)"
                          (onToolbarPreparing)="onToolbarPreparing($event)">
              <dxo-filter-row [visible]="true"
                              [applyFilter]="true"></dxo-filter-row>
              <dxo-header-filter [visible]="true"></dxo-header-filter>
              <dxo-search-panel [visible]="true"
                                [width]="240"
                                placeholder="Поиск..."></dxo-search-panel>
              <dxi-column caption="Агент" dataField="agent" width="120"></dxi-column>
              <dxi-column caption="Покупатель" dataField="customer"></dxi-column>
              <dxi-column caption="Сумма" dataField="sum" width="90"></dxi-column>
              <dxi-column caption="Комментарий" dataField="comment" width="100"></dxi-column>
              <dxo-summary>
                <dxi-total-item column="sum" summaryType="sum" [customizeText]="customizeSum"></dxi-total-item>
              </dxo-summary>
            </dx-data-grid>
          </div>
          <!-- /.table-responsive -->
        </div>
        <!-- /.box-body -->
        <div class="box-footer clearfix">
          <!--<a href="javascript:void(0)" class="btn btn-sm btn-info btn-flat pull-left">Place New Order</a>
          <a href="javascript:void(0)" class="btn btn-sm btn-default btn-flat pull-right">View All Orders</a>-->
        </div>
        <!-- /.box-footer -->
      </div>
    </section>
  </div>
</section>

